{% extends 'base.html' %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Добавить пользователя{% endblock %}

{% block link %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('menu') }}">Главное меню</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_teacher') }}">Учителя</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_course') }}">Курсы</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="#">Расписание</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('home') }}">Выход</a>
</li>
{% endblock %}

{% block body %}

<section id="users">

    <div class="container users">
        <table class="table table-lg table-striped table-bordered user-table">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Имя пользователя</th>
                    <th scope="col">email</th>
                    <th scope="col">Изменить</th>
                    <th scope="col">Удалить</th>
                </tr>
            <tbody>
                {% for database in users: %}
                <tr>
                    <th scope="row">{{ database.id }}</th>
                    <th scope="row">{{ database.name }}</th>
                    <th scope="row">{{ database.email }}</th>
                    <th scope="row"><a href="{{ url_for('edit_user', user_id=database.id) }}"><i
                                class="fa-solid fa-pen-to-square"></i></a></th>
                    <th scope="row"><a href="{{ url_for('delete_user', user_id=database.id) }}"><i
                                class="fa-solid fa-trash-can"></i></a></th>
                </tr>
                {% endfor %}
            </tbody>
            </thead>
        </table>
    </div>

</section>

<section id="add_users">
    <div class="container add_user">

        {% with messages = get_flashed_messages() %}
        {% if messages: %}
        {% for message in messages: %}
        <p class="flash-message">{{ message }}</p>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <form action="" method="post" class="form"  role="form" novalidate="">
            <input id="csrf_token" name="csrf_token" type="hidden" value="ImUzNjJhMDcyNzkyNzFmMzk3NDk5ZGQ1MDI4OTNjYzI5MDZiODgyYTAi.YvFikg.B4PhRZJX5ESdkIh3WaUFcxmsC4Y">
            <div class="user_name">
                {{ wtf.form_field(form.name) }}
            </div>

            <div class="user_email">
                {{ wtf.form_field(form.email) }}
            </div>

            <div class="user_password">
                {{ wtf.form_field(form.password) }}
            </div>

            <div class="sign_button">
                {{ wtf.form_field(form.sign, button_map={"sign": "primary"}) }}
            </div>
        </form>
    </div>

</section>


{% endblock %}